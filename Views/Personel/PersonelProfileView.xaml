<UserControl x:Class="CAKA.PerformanceApp.Views.Personel.PersonelProfileView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             mc:Ignorable="d" d:DesignHeight="400" d:DesignWidth="420">
    <ScrollViewer VerticalScrollBarVisibility="Auto">
        <StackPanel Margin="0,0,0,24">
            <!-- Profil bilgisi -->
            <Border Style="{StaticResource CardStyle}" Margin="0,0,0,20">
                <StackPanel>
                    <TextBlock Text="Profil" Style="{StaticResource TitleTextStyle}" Margin="0,0,0,24"/>
                    <Grid Margin="0,0,0,12">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="120"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Text="Kullanıcı adı" Style="{StaticResource SubtitleTextStyle}" VerticalAlignment="Center"/>
                        <TextBlock Grid.Column="1" Text="{Binding UserName}" FontWeight="SemiBold" Foreground="{StaticResource TextPrimaryBrush}" VerticalAlignment="Center"/>
                    </Grid>
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="120"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Text="Ad Soyad" Style="{StaticResource SubtitleTextStyle}" VerticalAlignment="Center"/>
                        <TextBlock Grid.Column="1" Text="{Binding DisplayName}" FontWeight="SemiBold" Foreground="{StaticResource TextPrimaryBrush}" VerticalAlignment="Center"/>
                    </Grid>
                    <Grid Margin="0,12,0,0">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="120"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Text="Departman" Style="{StaticResource SubtitleTextStyle}" VerticalAlignment="Center"/>
                        <TextBlock Grid.Column="1" Text="{Binding Department}" FontWeight="SemiBold" Foreground="{StaticResource TextPrimaryBrush}" VerticalAlignment="Center"/>
                    </Grid>
                </StackPanel>
            </Border>

            <!-- Şifre değiştir (sadece personel görür) -->
            <Border Style="{StaticResource CardStyle}" Visibility="{Binding IsPersonel, Converter={StaticResource BooleanToVisibilityConverter}}">
                <StackPanel>
                    <TextBlock Text="Şifre değiştir" Style="{StaticResource TitleTextStyle}" Margin="0,0,0,20"/>
                    <StackPanel Margin="0,0,0,12">
                        <TextBlock Text="Mevcut şifre" Style="{StaticResource SubtitleTextStyle}" Margin="0,0,0,4"/>
                        <PasswordBox x:Name="CurrentPasswordBox" Padding="10,8" PasswordChanged="CurrentPasswordBox_PasswordChanged"/>
                    </StackPanel>
                    <StackPanel Margin="0,0,0,12">
                        <TextBlock Text="Yeni şifre" Style="{StaticResource SubtitleTextStyle}" Margin="0,0,0,4"/>
                        <PasswordBox x:Name="NewPasswordBox" Padding="10,8" PasswordChanged="NewPasswordBox_PasswordChanged"/>
                    </StackPanel>
                    <StackPanel Margin="0,0,0,16">
                        <TextBlock Text="Yeni şifre (tekrar)" Style="{StaticResource SubtitleTextStyle}" Margin="0,0,0,4"/>
                        <PasswordBox x:Name="ConfirmPasswordBox" Padding="10,8" PasswordChanged="ConfirmPasswordBox_PasswordChanged"/>
                    </StackPanel>
                    <TextBlock Text="{Binding StatusMessage}" Foreground="{StaticResource AccentBrush}" Margin="0,0,0,12"
                               Visibility="{Binding StatusMessage, Converter={StaticResource StringToVisibilityConverter}}"/>
                    <Button Content="Şifreyi güncelle" Command="{Binding ChangePasswordCommand}"
                            Style="{StaticResource PrimaryButtonStyle}" HorizontalAlignment="Left" Padding="24,12" Height="40"/>
                </StackPanel>
            </Border>

            <!-- Admin için bilgi -->
            <Border Style="{StaticResource CardStyle}" Visibility="{Binding IsPersonel, Converter={StaticResource BooleanToVisibilityInverseConverter}}">
                <TextBlock Style="{StaticResource SubtitleTextStyle}" Text="Admin hesabının şifresi bu ekrandan değiştirilemez."
                           TextWrapping="Wrap" VerticalAlignment="Center"/>
            </Border>
        </StackPanel>
    </ScrollViewer>
</UserControl>
